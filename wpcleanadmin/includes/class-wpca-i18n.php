<?php\r\n/**\r\n * WPCleanAdmin I18n Class\r\n *\r\n * @package WPCleanAdmin\r\n * @version 1.7.15\r\n * @author Sut\r\n * @author URI: https://github.com/sutchan\r\n * @since 1.7.15\r\n */\r\nnamespace WPCleanAdmin;\r\n\r\nif ( ! defined( 'ABSPATH' ) ) {\r\n    exit;\r\n}\r\n\r\n\r\n\r\n/**\r\n * i18n class\r\n */\r\nclass i18n {\r\n    \r\n    /**\r\n     * Singleton instance\r\n     *\r\n     * @var i18n\r\n     */\r\n    private static $instance;\r\n    \r\n    /**\r\n     * Get singleton instance\r\n     *\r\n     * @return i18n\r\n     */\r\n    public static function getInstance() {\r\n        if ( ! isset( self::$instance ) ) {\r\n            self::$instance = new self();\r\n        }\r\n        return self::$instance;\r\n    }\r\n    \r\n    /**\r\n     * Constructor\r\n     */\r\n    private function __construct() {\r\n        $this->init();\r\n    }\r\n    \r\n    /**\r\n     * Initialize the i18n module\r\n     */\r\n    public function init() {\r\n        // Add i18n hooks\r\n        if ( function_exists( 'add_action' ) ) {\r\n            \add_action( 'plugins_loaded', array( $this, 'load_textdomain' ) );\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Load plugin textdomain\r\n     */\r\n    public function load_textdomain() {\r\n        // Load plugin textdomain\r\n        if ( function_exists( 'load_plugin_textdomain' ) && function_exists( 'plugin_basename' ) ) {\r\n            \load_plugin_textdomain(\r\n                WPCA_TEXT_DOMAIN,\r\n                false,\r\n                \dirname( \plugin_basename( __FILE__ ) ) . '/../languages/'\r\n            );\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Get translated string\r\n     *\r\n     * @param string $string String to translate\r\n     * @param string $context Translation context\r\n     * @return string Translated string\r\n     */\r\n    public function translate( $string, $context = '' ) {\r\n        if ( ! empty( $context ) ) {\r\n            return ( function_exists( '_x' ) ? \_x( $string, $context, WPCA_TEXT_DOMAIN ) : $string );\r\n        }\r\n        return ( function_exists( '__' ) ? \__( $string, WPCA_TEXT_DOMAIN ) : $string );\r\n    }\r\n    \r\n    /**\r\n     * Get translated plural string\r\n     *\r\n     * @param string $single Singular string\r\n     * @param string $plural Plural string\r\n     * @param int $number Number\r\n     * @return string Translated string\r\n     */\r\n    public function translate_plural( $single, $plural, $number ) {\r\n        return ( function_exists( '_n' ) ? \_n( $single, $plural, $number, WPCA_TEXT_DOMAIN ) : ( $number === 1 ? $single : $plural ) );\r\n    }\r\n    \r\n    /**\r\n     * Get translated string with context and plural\r\n     *\r\n     * @param string $single Singular string\r\n     * @param string $plural Plural string\r\n     * @param int $number Number\r\n     * @param string $context Translation context\r\n     * @return string Translated string\r\n     */\r\n    public function translate_plural_with_context( $single, $plural, $number, $context ) {\r\n        return ( function_exists( '_nx' ) ? \_nx( $single, $plural, $number, $context, WPCA_TEXT_DOMAIN ) : ( $number === 1 ? $single : $plural ) );\r\n    }\r\n    \r\n    /**\r\n     * Get current locale\r\n     *\r\n     * @return string Current locale\r\n     */\r\n    public function get_locale() {\r\n        return ( function_exists( 'get_locale' ) ? \get_locale() : 'en_US' );\r\n    }\r\n    \r\n    /**\r\n     * Get available languages\r\n     *\r\n     * @return array Available languages\r\n     */\r\n    public function get_available_languages() {\r\n        return ( function_exists( 'get_available_languages' ) ? \get_available_languages( WPCA_PLUGIN_DIR . 'languages/' ) : array() );\r\n    }\r\n    \r\n    /**\r\n     * Get current language\r\n     *\r\n     * @return string Current language\r\n     */\r\n    public function get_current_language() {\r\n        $locale = ( function_exists( 'get_locale' ) ? \get_locale() : 'en_US' );\r\n        return substr( $locale, 0, 2 );\r\n    }\r\n    \r\n    /**\r\n     * Check if current language is RTL\r\n     *\r\n     * @return bool Whether current language is RTL\r\n     */\r\n    public function is_rtl() {\r\n        return ( function_exists( 'is_rtl' ) ? \is_rtl() : false );\r\n    }\r\n}