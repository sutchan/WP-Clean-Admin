/**\r\n * WP Clean Admin Settings JavaScript\r\n *\r\n * @package WPCA\r\n * @version 1.7.15\r\n * @author Sut\r\n * @author URI: https://github.com/sutchan\r\n * @since 1.7.15\r\n */\r\n// Use IIFE to encapsulate the settings functionality\r\n(function($) {\r\n    'use strict';\r\n    \r\n    /**\r\n     * Settings functionality for WPCA\r\n     */\r\n    const WPCASettings = {\r\n        /**\r\n         * Initialize settings functionality\r\n         */\r\n        init: function() {\r\n            this.bindEvents();\r\n            this.initSettingsForms();\r\n        },\r\n        \r\n        /**\r\n         * Bind events for settings\r\n         */\r\n        bindEvents: function() {\r\n            // Handle settings form submission\r\n            $(document).on('submit', '.wpca-settings-form', this.handleFormSubmission.bind(this));\r\n            \r\n            // Handle reset buttons\r\n            $(document).on('click', '.wpca-reset-btn', this.handleReset.bind(this));\r\n        },\r\n        \r\n        /**\r\n         * Initialize settings forms\r\n         */\r\n        initSettingsForms: function() {\r\n            // Add loading state handlers\r\n            $('.wpca-settings-form').each(function() {\r\n                const $form = $(this);\r\n                const $submitBtn = $form.find('input[type="submit"]');\r\n                \r\n                if ($submitBtn.length) {\r\n                    $form.data('original-submit-text', $submitBtn.val());\r\n                }\r\n            });\r\n        },\r\n        \r\n        /**\r\n         * Handle form submission\r\n         * @param {Event} e - The submit event\r\n         */\r\n        handleFormSubmission: function(e) {\r\n            const $form = $(e.currentTarget);\r\n            const $submitBtn = $form.find('input[type="submit"]');\r\n            \r\n            if ($submitBtn.length) {\r\n                $submitBtn.prop('disabled', true).val($form.data('saving-text') || 'Saving...');\r\n            }\r\n        },\r\n        \r\n        /**\r\n         * Handle reset button click\r\n         * @param {Event} e - The click event\r\n         */\r\n        handleReset: function(e) {\r\n            const $btn = $(e.currentTarget);\r\n            const confirmText = $btn.data('confirm') || 'Are you sure you want to reset these settings?';\r\n            \r\n            if (!confirm(confirmText)) {\r\n                e.preventDefault();\r\n                return false;\r\n            }\r\n            \r\n            // Add loading state\r\n            $btn.prop('disabled', true).val($btn.data('resetting-text') || 'Resetting...');\r\n            \r\n            return true;\r\n        }\r\n    };\r\n    \r\n    // Initialize settings when DOM is ready\r\n    $(document).ready(function() {\r\n        WPCASettings.init();\r\n    });\r\n    \r\n    // Expose to global scope for potential external use\r\n    window.WPCASettings = WPCASettings;\r\n})(jQuery);\r\n