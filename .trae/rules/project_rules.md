# WPCleanAdmin 椤圭洰瑙勫垯鏂囨。

## 1. 椤圭洰姒傝堪

WPCleanAdmin 鏄竴涓?WordPress 绠＄悊鐣岄潰娓呯悊鍜屼紭鍖栨彃浠讹紝鎻愪緵鏁版嵁搴撲紭鍖栥€佹€ц兘鐩戞帶銆佺櫥褰曠晫闈㈣嚜瀹氫箟绛夊姛鑳姐€?
**椤圭洰 URL**: https://github.com/sutchan
**榛樿缃插悕**: Sut

## 2. 鏂囦欢缁撴瀯瑙勮寖

### 2.1 涓昏鐩綍缁撴瀯

```
WPCleanAdmin/
鈹溾攢鈹€ wp-clean-admin.php        # 鎻掍欢涓诲叆鍙ｆ枃浠?鈹溾攢鈹€ wpcleanadmin/             # 鎻掍欢鏍稿績鐩綍
鈹?  鈹溾攢鈹€ assets/               # 闈欐€佽祫婧愭枃浠?鈹?  鈹?  鈹溾攢鈹€ css/              # 鏍峰紡鏂囦欢
鈹?  鈹?  鈹斺攢鈹€ js/               # JavaScript 鏂囦欢
鈹?  鈹溾攢鈹€ includes/             # PHP 绫诲拰鍔熻兘鏂囦欢
鈹?  鈹?  鈹溾攢鈹€ tests/            # 娴嬭瘯鐩稿叧鏂囦欢
鈹?  鈹?  鈹溾攢鈹€ autoload.php      # 鑷姩鍔犺浇鍣?鈹?  鈹?  鈹斺攢鈹€ *.php             # 鍚勭被鍔熻兘瀹炵幇
鈹?  鈹溾攢鈹€ languages/            # 璇█鏂囦欢
鈹?  鈹斺攢鈹€ wp-clean-admin.php    # 鎻掍欢涓荤被鏂囦欢
鈹溾攢鈹€ docs/                     # 椤圭洰鏂囨。锛堟柊澧炴椂浣跨敤锛?鈹溾攢鈹€ build/                    # 澶氬钩鍙版瀯寤烘簮浠ｇ爜锛堝闇€锛?鈹斺攢鈹€ dist/                     # 鏋勫缓浜х墿锛堝闇€锛?```

### 2.2 鐩綍鐢ㄩ€旇鏄?
- **docs/**: 瀛樻斁椤圭洰鏂囨。銆佷娇鐢ㄨ鏄庛€丄PI 鏂囨。绛?- **build/**: 瀛樻斁澶氬钩鍙版瀯寤烘簮浠ｇ爜
- **dist/**: 瀛樻斁鏋勫缓浜х墿锛屽鍘嬬缉鍚庣殑 JS/CSS 鏂囦欢
- **.trae/rules/**: 瀛樻斁椤圭洰瑙勫垯鏂囨。

## 3. 缂栫爜瑙勮寖

### 3.1 PHP 缂栫爜瑙勮寖

- 浣跨敤 PSR-4 鑷姩鍔犺浇瑙勮寖
- 鎵€鏈?PHP 鏂囦欢蹇呴』鍖呭惈鏂囦欢绾ф敞閲婏紝璇存槑鏂囦欢鍔熻兘
- 鎵€鏈夊嚱鏁板繀椤诲寘鍚嚱鏁扮骇娉ㄩ噴
- 绫诲悕浣跨敤 `WPCA_` 鍓嶇紑锛岄噰鐢?PascalCase 鍛藉悕娉?- 鏂规硶鍚嶅拰鍑芥暟鍚嶄娇鐢?camelCase 鍛藉悕娉?- 鍙橀噺鍚嶄娇鐢?camelCase 鍛藉悕娉?- 甯搁噺鍚嶄娇鐢ㄥ叏澶у啓鍔犱笅鍒掔嚎鍛藉悕娉?- 姣忚浠ｇ爜闀垮害涓嶈秴杩?120 涓瓧绗?- 浣跨敤 4 涓┖鏍肩缉杩涳紝涓嶄娇鐢?Tab
- 鏂囦欢缂栫爜蹇呴』涓?UTF-8
- 蹇呴』鍖呭惈闂悎鐨?PHP 鏍囩 `?>`

### 3.2 JavaScript 缂栫爜瑙勮寖

- 浣跨敤 camelCase 鍛藉悕鍑芥暟鍜屽彉閲?- 浣跨敤 PascalCase 鍛藉悕鏋勯€犲嚱鏁板拰绫?- 浣跨敤鍏ㄥぇ鍐欏姞涓嬪垝绾垮懡鍚嶅父閲?- 鎵€鏈夊嚱鏁板繀椤诲寘鍚嚱鏁扮骇娉ㄩ噴
- 浣跨敤 2 涓┖鏍肩缉杩?- 鏂囦欢缂栫爜蹇呴』涓?UTF-8

### 3.3 CSS 缂栫爜瑙勮寖

- 浣跨敤杩炲瓧绗︼紙kebab-case锛夊懡鍚嶇被鍜?ID
- 鎵€鏈夋牱寮忓潡蹇呴』鍖呭惈娉ㄩ噴璇存槑
- 浣跨敤 2 涓┖鏍肩缉杩?- 鏂囦欢缂栫爜蹇呴』涓?UTF-8

## 4. 鏈湴鍖栬鑼?
### 4.1 澶氳瑷€鏀寔

- 鎵€鏈夌晫闈㈠瓧绗︿覆蹇呴』浣跨敤缈昏瘧鍑芥暟鍖呰９锛歚__()`銆乣_e()`銆乣_x()`銆乣_ex()`
- 缈昏瘧鍑芥暟蹇呴』鍖呭惈姝ｇ‘鐨勬枃鏈煙锛坱ext domain锛夛細`wp-clean-admin`
- 瀛楃涓插繀椤诲悓鏃舵坊鍔犲埌浠ヤ笅鏂囦欢锛?  - `wpcleanadmin/languages/wp-clean-admin.pot`锛堜富缈昏瘧妯℃澘锛?  - `wpcleanadmin/languages/wp-clean-admin-en_US.po`锛堣嫳鏂囷級
  - `wpcleanadmin/languages/wp-clean-admin-zh_CN.po`锛堜腑鏂囷級

### 4.2 缈昏瘧鏂囦欢鏇存柊

- 鍙皢 PHP 鍜?JS 鏂囦欢涓殑瀛楃涓叉坊鍔犲埌 POT 鏂囦欢
- 鎺掗櫎 `.md`銆乣.txt` 绛夐潪浠ｇ爜鏂囦欢

## 5. 鐗堟湰鎺у埗瑙勮寖

### 5.1 鐗堟湰鍙锋牸寮?
浣跨敤璇箟鍖栫増鏈彿锛圫emantic Versioning锛夛細`涓荤増鏈彿.娆＄増鏈彿.淇鍙穈
- 涓荤増鏈彿锛氫笉鍏煎鐨?API 鍙樻洿
- 娆＄増鏈彿锛氬悜鍚庡吋瀹圭殑鍔熻兘鎬ф柊澧?- 淇鍙凤細鍚戝悗鍏煎鐨勯棶棰樹慨姝?
### 5.2 鐗堟湰鍚屾

- 鎵€鏈変唬鐮佹枃浠跺繀椤诲悓姝ョ増鏈彿
- 姣忔鏋勫缓椤圭洰鏃讹紝鑷姩鍗囩骇鏈€灏忕増鏈彿锛堜慨璁㈠彿锛?- 鐗堟湰鍙峰繀椤诲啓鍏ヤ互涓嬩綅缃細
  - 鎻掍欢涓诲叆鍙ｆ枃浠剁殑鎻掍欢澶存敞閲?  - CHANGELOG.md 鏂囦欢
  - 鐩稿叧绫绘枃浠剁殑鐗堟湰娉ㄩ噴

### 5.3 鐗堟湰鍘嗗彶璁板綍

- 鎵€鏈夌増鏈彉鏇村繀椤昏褰曞湪 `CHANGELOG.md` 鏂囦欢涓?- 璁板綍鏍煎紡锛?  ```
  ## x.y.z - YYYY-MM-DD
  
  ### Added
  - 鏂板鍔熻兘鎻忚堪
  
  ### Changed
  - 淇敼鍔熻兘鎻忚堪
  
  ### Fixed
  - 淇闂鎻忚堪
  ```

## 6. 鏋勫缓瑙勮寖

### 6.1 鏋勫缓鍓嶅噯澶?
- 姣忔鏋勫缓椤圭洰鏃讹紝鍏堟竻鐞嗗伐浣滃尯缂撳瓨鏂囦欢
- 妫€鏌ユ墍鏈夋枃浠剁殑璇硶鍜岄棴鍚堟爣绛?
### 6.2 鏋勫缓杩囩▼

- 鍘嬬缉 JS 鍜?CSS 鏂囦欢
- 鐢熸垚蹇呰鐨?MO 鏂囦欢
- 鏇存柊鐗堟湰鍙?- 鐢熸垚鏋勫缓鏃ュ織

## 7. 瀹夊叏瑙勮寖

### 7.1 杈撳叆楠岃瘉

- 鎵€鏈夌敤鎴疯緭鍏ュ繀椤昏繘琛屼弗鏍奸獙璇?- 浣跨敤 WordPress 鎻愪緵鐨勫畨鍏ㄥ嚱鏁帮細`sanitize_text_field()`銆乣esc_html()` 绛?- 鏁版嵁搴撴煡璇㈠繀椤讳娇鐢ㄩ澶勭悊璇彞

### 7.2 鏉冮檺妫€鏌?
- 鎵€鏈夌鐞嗗姛鑳藉繀椤昏繘琛屾潈闄愭鏌?- 浣跨敤 `WPCA_Permissions::current_user_can()` 杩涜鏉冮檺楠岃瘉

### 7.3 瀹夊叏澶翠俊鎭?
- 娣诲姞閫傚綋鐨勫畨鍏ㄥご淇℃伅
- 瀹炵幇 CSRF 淇濇姢

## 8. 閿欒澶勭悊瑙勮寖

### 8.1 寮傚父鎹曡幏

- 鎵€鏈夊彲鑳芥姏鍑哄紓甯哥殑浠ｇ爜鍧楀繀椤讳娇鐢?try-catch 鎹曡幏
- 閿欒淇℃伅蹇呴』璁板綍鍒版棩蹇?
### 8.2 鍑芥暟瀛樺湪鎬ф鏌?
- 鍦ㄨ皟鐢ㄥ彲鑳戒笉瀛樺湪鐨勫嚱鏁板墠锛屽繀椤讳娇鐢?`function_exists()` 杩涜妫€鏌?- 鍦ㄨ闂彲鑳戒笉瀛樺湪鐨勫睘鎬у墠锛屽繀椤讳娇鐢?`isset()` 杩涜妫€鏌?
## 9. 璋冭瘯瑙勮寖

### 9.1 璋冭瘯甯搁噺

- 浣跨敤 WordPress 璋冭瘯甯搁噺鎺у埗璋冭瘯杈撳嚭锛歚WP_DEBUG`
- 浠呭湪璋冭瘯妯″紡涓嬭緭鍑鸿缁嗛敊璇俊鎭?
### 9.2 鏃ュ織璁板綍

- 浣跨敤 `error_log()` 璁板綍閿欒鍜岃皟璇曚俊鎭?- 鏃ュ織淇℃伅蹇呴』鍖呭惈鎻掍欢鍚嶇О鍓嶇紑

## 10. 鑷姩鍖栦换鍔¤鑼?
### 10.1 鑷姩缁存姢

- 绌洪棽 1 鍒嗛挓鏃讹紝鍙傝€冮」鐩枃妗ｏ紝缁х画寮€鍙戞湭瀹屽杽鐨勪唬鐮?- 绌洪棽 10 鍒嗛挓鏃讹紝鑷姩寮€濮嬩慨澶嶉棶棰?- 绌洪棽 60 鍒嗛挓鏃讹紝鑷姩寮€濮嬫竻鐞嗗啑浣欐枃浠跺拰缂撳瓨鏂囦欢
- 姣忓ぉ鑷姩鍚屾宸ヤ綔鍖烘枃浠剁増鏈彿

### 10.2 鑷姩淇

- 鑷姩淇鍙戠幇鐨勪唬鐮侀棶棰?- 鑷姩妫€鏌ヨ娉曞強闂悎鏍囩
- 鑷姩淇鏈畾涔夊嚱鏁板拰甯搁噺閿欒

## 11. 妯″瀷閫夋嫨瑙勮寖

- 浼樺厛浣跨敤 Gemini 妯″瀷
- 濡傛灉 Gemini 妯″瀷涓嶅彲鐢紝鍐嶅垏鎹㈠埌鑷姩妯″紡

## 12. 浜や簰瑙勮寖

### 12.1 杈撳嚭澶勭悊

- 妯″瀷鎬濊€冩鏁拌揪鍒颁笂闄愭椂锛岃嚜鍔ㄨ緭鍏?缁х画"骞跺洖杞?- 杈撳嚭杩囬暱鏃讹紝鑷姩鐐瑰嚮"缁х画"鑾峰彇瀹屾暣杈撳嚭
- 鎶樺彔鎬濊€冭繃绋嬶紝鍙樉绀烘渶缁堢粨鏋?
### 12.2 鏂囦欢瀹℃煡

- 鍑虹幇鏂囦欢寰呭鏌ヨ姹傛椂锛岃嚜鍔ㄥ叏閮ㄦ帴鍙楀鏌ヨ姹?