# WPCleanAdmin - WordPress 管理界面优化插件

## 项目概述

WPCleanAdmin 是一个强大的 WordPress 管理界面清理和优化插件，旨在简化后台操作、提高管理效率、增强安全性并优化网站性能。通过提供全面的管理工具，WPCleanAdmin 帮助网站管理员创建一个更简洁、更高效、更安全的 WordPress 管理环境。

**项目 URL**: https://github.com/sutchan/WPCleanAdmin
**作者**: Sut
**许可证**: GPLv2 或更高版本
**当前版本**: 1.7.13

## 功能特性

### 管理界面优化
- **管理界面清理**: 移除不必要的元素，简化 WordPress 后台界面
- **菜单管理**: 隐藏、显示、重命名和重新排序管理菜单项
- **仪表板定制**: 移除、添加或重新排列仪表板小工具
- **管理栏优化**: 自定义或移除管理栏上的项目

### 菜单管理系统
- **智能菜单控制**: 基于用户角色显示或隐藏菜单项
- **菜单项保护**: 防止核心功能菜单被误隐藏
- **菜单项重命名**: 自定义菜单项名称，使其更符合您的工作流程
- **菜单排序**: 重新排列菜单项顺序，优化工作流程

### 数据库优化
- **数据库表优化**: 优化数据库表，提高查询性能
- **清理不必要数据**: 移除修订版、自动草稿和垃圾评论等
- **计划维护**: 设置自动数据库优化任务
- **数据库备份**: 创建数据库备份，确保数据安全

### 性能监控与优化
- **页面加载监控**: 跟踪页面加载时间和关键渲染路径
- **查询监控**: 记录和分析数据库查询性能
- **内存使用分析**: 监控 PHP 内存使用情况
- **资源管理**: 控制和优化 CSS/JS 资源加载
- **关键 CSS 生成**: 自动生成和内联关键 CSS
- **JavaScript 优化**: 延迟加载非关键 JavaScript

### 登录页面自定义
- **多种登录主题**: 8 种不同的登录页面样式选项
- **品牌定制**: 添加自定义徽标和品牌色彩
- **自定义背景**: 上传自定义背景图片或使用渐变
- **自定义 CSS**: 添加自定义 CSS 代码
- **登录页面元素控制**: 显示或隐藏特定登录页面元素

### 安全与权限
- **权限管理**: 精细控制用户权限和角色
- **CSRF 保护**: 全面的 Nonce 验证和 CSRF 防护
- **输入验证**: 严格的用户输入验证和清理
- **安全增强**: 隐藏版本信息和其他安全优化
- **自定义权限**: 创建和管理自定义用户权限

## 安装要求

- WordPress 5.0 或更高版本
- PHP 7.4 或更高版本
- MySQL 5.6 或更高版本

## 安装步骤

### 方法一：从 WordPress 插件目录安装
1. 登录 WordPress 管理后台
2. 导航至 "插件" > "添加新插件"
3. 搜索 "WPCleanAdmin"
4. 点击 "立即安装"，然后点击 "激活"

### 方法二：手动安装
1. 从 GitHub 下载插件压缩包
2. 登录到您的网站 FTP 服务器
3. 将解压后的文件夹上传到 `/wp-content/plugins/` 目录
4. 登录 WordPress 管理后台
5. 导航至 "插件" > "已安装插件"
6. 找到 "WPCleanAdmin" 并点击 "激活"

### 方法三：使用 Git 克隆
1. 登录到您的网站服务器
2. 导航至 `/wp-content/plugins/` 目录
3. 执行命令: `git clone https://github.com/sutchan/WPCleanAdmin.git`
4. 登录 WordPress 管理后台
5. 导航至 "插件" > "已安装插件"
6. 找到 "WPCleanAdmin" 并点击 "激活"

## 配置指南

激活插件后，您可以在 WordPress 管理后台的 "设置" > "WP Clean Admin" 中配置插件选项。插件设置分为多个选项卡：

### 1. 界面清理
- **隐藏屏幕选项**: 隐藏 WordPress 管理页面右上角的屏幕选项按钮
- **隐藏帮助标签**: 移除管理页面上的帮助标签
- **隐藏 WordPress 徽标**: 从管理栏移除 WordPress 徽标
- **隐藏 WordPress 页脚**: 隐藏或自定义管理页面底部的 WordPress 版权信息
- **隐藏管理栏**: 在前台隐藏管理栏（可选）

### 2. 菜单管理
- **隐藏菜单项**: 选择要从管理菜单中隐藏的项目
- **重命名菜单项**: 自定义菜单项的显示名称
- **菜单排序**: 拖放菜单项以自定义顺序
- **角色特定菜单**: 为不同用户角色设置不同的菜单显示

### 3. 数据库优化
- **优化数据库表**: 选择要优化的数据库表
- **清理修订版**: 移除旧的文章修订版
- **清理自动草稿**: 移除自动保存的草稿
- **清理垃圾评论**: 删除所有垃圾评论
- **设置自动优化**: 配置定期自动优化计划

### 4. 性能监控
- **启用性能监控**: 开启或关闭性能数据收集
- **监控间隔**: 设置性能数据收集的时间间隔
- **性能报告**: 查看收集的性能数据和分析报告
- **性能优化建议**: 获取基于性能数据的优化建议

### 5. 资源管理
- **CSS 优化**: 移除不必要的 CSS 文件
- **JavaScript 优化**: 延迟加载非关键 JavaScript
- **关键 CSS**: 配置关键 CSS 生成和内联选项
- **资源黑名单**: 添加要排除的特定 CSS 或 JS 文件

### 6. 登录页面
- **选择登录主题**: 从多种预定义主题中选择
- **上传自定义徽标**: 添加您的品牌徽标
- **自定义背景**: 设置背景颜色、渐变或上传背景图片
- **自定义 CSS**: 添加自定义 CSS 代码
- **登录页面消息**: 添加自定义登录页面消息

### 7. 安全设置
- **权限管理**: 配置用户角色和权限
- **隐藏版本信息**: 从页面输出中移除 WordPress 版本信息
- **保护管理路径**: 添加额外的管理路径保护

### 8. 高级设置
- **调试模式**: 开启或关闭调试输出
- **日志记录**: 配置错误和操作日志记录
- **多语言设置**: 选择插件界面语言
- **重置设置**: 将所有设置恢复为默认值

## 常见问题解答 (FAQ)

### 1. 插件与 WordPress 版本的兼容性如何？
**A:** WPCleanAdmin 与 WordPress 5.0 及更高版本兼容。我们建议始终使用最新版本的 WordPress 以获得最佳性能和安全性。

### 2. 插件是否会影响网站前端性能？
**A:** 不会。WPCleanAdmin 主要优化 WordPress 管理后台，不会对网站前端产生负面影响。实际上，资源管理功能可能会提高前端性能。

### 3. 如何恢复默认设置？
**A:** 在插件设置页面的 "高级设置" 选项卡中，您可以找到 "重置设置" 按钮，点击后将恢复所有默认设置。

### 4. 如果我隐藏了某个菜单项，如何重新访问它？
**A:** 您可以通过直接访问菜单项的 URL 路径来访问隐藏的菜单项。例如，对于插件菜单，可以访问 `wp-admin/plugins.php`。访问设置页面后，您可以重新显示隐藏的菜单项。

### 5. 数据库优化是否安全？
**A:** 是的，数据库优化功能使用 WordPress 核心函数进行安全优化。不过，我们建议在执行重要的数据库操作前备份您的数据库。

### 6. 插件是否支持多语言？
**A:** 是的，WPCleanAdmin 完全支持多语言，默认包含英文和中文翻译。您可以在 "高级设置" 中更改界面语言。

### 7. 如何贡献代码或报告问题？
**A:** 您可以在 GitHub 仓库上提交问题或拉取请求：https://github.com/sutchan/WPCleanAdmin/issues

### 8. 插件是否收集用户数据？
**A:** 不会。WPCleanAdmin 不会收集任何用户数据或发送数据到第三方服务器。所有数据处理都在您的服务器上进行。

## 版本历史

### 1.7.13 (2025-06-18)
- 修复了 `class-wpca-performance-settings.php` 中的 `sanitize_callback` 问题
- 实现了自定义的 `sanitize_cleanup_items` 回调函数
- 同步了所有代码文件的版本号
- 完成了项目结构和代码质量审核
- 更新了项目文档

### 1.7.0 (2024-01-27)
- 新增了 `WPCA_Menu_Manager` 类，专门负责菜单项显示/隐藏功能
- 实现了菜单项保护机制，确保核心功能菜单不被误隐藏
- 重构了菜单管理架构

### 1.6.0 (2024-01-15)
- 新增数据库优化模块
- 实现了全面的数据库清理功能
- 添加了计划数据库维护任务
- 增强了性能统计测试

### 1.5.0 (2024-01-10)
- 增强登录页面自定义功能
- 添加了 8 种不同的登录页面样式选项
- 实现了自定义 CSS 支持
- 添加了登录页面元素控制

### 1.4.0 (2024-01-08)
- 实现了单例模式以优化资源管理
- 添加了性能监控功能
- 修复了资源加载顺序问题

### 1.3.0 (未发布)
- 添加了性能优化模块
- 实现了数据库优化功能
- 添加了资源管理功能

### 1.2.0
- 登录页面自定义
- 菜单管理功能
- 仪表板小工具移除
- 管理界面样式改进

### 1.1.0
- 用户权限管理
- 管理栏清理
- 页面标题优化
- 翻译支持

### 1.0.0
- 初始发布
- 核心功能实现
- 基础样式改进
- 管理菜单管理

## 贡献指南

欢迎贡献代码！请遵循以下步骤：

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

## 许可证

本项目采用 GPLv2 或更高版本许可证。详情请参阅 [LICENSE](LICENSE) 文件。

## 支持与反馈

### 支持渠道
- **GitHub Issues**: 提交问题或功能请求 - [https://github.com/sutchan/WPCleanAdmin/issues](https://github.com/sutchan/WPCleanAdmin/issues)
- **文档**: 详细的使用文档和开发指南 - [docs 目录](docs/)

### 提供反馈
我们非常欢迎您的反馈和建议！您可以通过以下方式帮助改进插件：
- 提交 bug 报告
- 提出新功能建议
- 提供翻译
- 贡献代码
- 撰写评测

## 屏幕截图

### 1. 设置页面概览
![设置页面概览](https://example.com/screenshots/wpcleanadmin-settings-overview.png)

### 2. 菜单管理界面
![菜单管理界面](https://example.com/screenshots/wpcleanadmin-menu-management.png)

### 3. 数据库优化工具
![数据库优化工具](https://example.com/screenshots/wpcleanadmin-database-optimization.png)

### 4. 性能监控报告
![性能监控报告](https://example.com/screenshots/wpcleanadmin-performance-report.png)

### 5. 自定义登录页面
![自定义登录页面](https://example.com/screenshots/wpcleanadmin-custom-login.png)

## 贡献指南

欢迎贡献代码！请遵循以下步骤：

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

## 许可证

本项目采用 GPLv2 或更高版本许可证。详情请参阅 [LICENSE](LICENSE) 文件。

## 致谢

感谢所有为这个项目做出贡献的开发者和用户！

---

**免责声明**: 使用本插件时，请确保定期备份您的网站。虽然我们努力确保插件的稳定性和安全性，但作者不对任何因使用本插件而导致的数据丢失或其他问题负责。