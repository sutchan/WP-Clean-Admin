# 文档管理工具使用指南

## 1. 概述

本指南旨在介绍 WP Clean Admin 项目中使用的文档管理工具，包括如何使用这些工具来创建、编辑、管理、版本控制和发布文档。通过遵循本指南，团队成员可以高效地协作管理项目文档，确保文档的质量、一致性和可访问性。

## 2. 文档管理工具栈

WP Clean Admin 项目使用以下文档管理工具：

| 工具名称 | 用途 | 推荐版本 |
|----------|------|----------|
| Markdown | 文档编写格式 | 最新规范 |
| VS Code | 代码和文档编辑器 | 最新版本 |
| Git | 文档版本控制 | 2.30+ |
| GitHub | 文档托管和协作平台 | 最新版本 |
| GitHub Actions | 文档自动化构建和部署 | 最新版本 |
| Markdownlint | Markdown 格式检查 | 最新版本 |
| Pandoc | 文档格式转换 | 2.19+ |

## 3. Markdown 编写指南

### 3.1 Markdown 基础

Markdown 是一种轻量级标记语言，易于阅读和编写，同时可以转换为 HTML、PDF 等多种格式。WP Clean Admin 项目的所有文档都使用 Markdown 格式编写。

### 3.2 Markdown 语法规范

#### 3.2.1 标题

使用 # 符号表示标题，# 数量表示标题级别（1-6级）：

```markdown
# 一级标题
## 二级标题
### 三级标题
#### 四级标题
##### 五级标题
###### 六级标题
```

#### 3.2.2 段落和换行

- 段落之间使用空行分隔
- 行尾添加两个空格表示换行

#### 3.2.3 列表

- **无序列表**：使用 - 或 * 符号
- **有序列表**：使用数字加 . 符号

```markdown
- 无序列表项 1
- 无序列表项 2
  - 嵌套列表项

1. 有序列表项 1
2. 有序列表项 2
   1. 嵌套有序列表项
```

#### 3.2.4 链接和图片

- **链接**：`[链接文本](链接地址 "可选标题")`
- **图片**：`![图片描述](图片地址 "可选标题")`

```markdown
[GitHub](https://github.com/sutchan/WP-Clean-Admin)
![WP Clean Admin Logo](https://example.com/logo.png)
```

#### 3.2.5 强调

- **粗体**：`**粗体文本**` 或 `__粗体文本__`
- **斜体**：`*斜体文本*` 或 `_斜体文本_`
- **删除线**：`~~删除线文本~~`

#### 3.2.6 代码

- **行内代码**：使用反引号 `` ` `` 包裹
- **代码块**：使用三个反引号 `` ``` `` 包裹，并指定语言

```markdown
行内代码：`wp plugin activate wp-clean-admin`

代码块：
```bash
# 克隆代码
git clone https://github.com/sutchan/WP-Clean-Admin.git
```
```php
// PHP 代码示例
function wpca_cleanup_menus() {
    // 清理菜单逻辑
}
```
```json
{
  "name": "wp-clean-admin",
  "version": "1.7.15"
}
```
```dotenv
# 环境变量配置
DB_NAME=wp_clean_admin
DB_USER=root
```
```yaml
# YAML 配置示例
theme:
  name: material
  features:
    - navigation.tabs
```
```sql
-- SQL 查询示例
SELECT * FROM wp_options WHERE option_name LIKE 'wpca_%';
```
```javascript
// JavaScript 代码示例
function wpca_init() {
  console.log('WP Clean Admin initialized');
}
```
```css
/* CSS 代码示例 */
.wpca-cleaned-menu {
  display: none;
}
```
```html
<!-- HTML 代码示例 -->
<div class="wpca-settings">
  <h2>WP Clean Admin 设置</h2>
</div>
```

#### 3.2.7 表格

使用 | 分隔列，使用 - 分隔表头和表体：

```markdown
| 列 1 | 列 2 | 列 3 |
|------|------|------|
| 内容 1 | 内容 2 | 内容 3 |
| 内容 4 | 内容 5 | 内容 6 |
```

#### 3.2.8 引用

使用 > 符号表示引用：

```markdown
> 这是一段引用文本。
> 
> 引用可以包含多行。
```

#### 3.2.9 分隔线

使用三个或更多的 -、* 或 _ 符号表示分隔线：

```markdown
---
***
___
```

#### 3.2.10 任务列表

使用 - [ ] 表示未完成任务，- [x] 表示已完成任务：

```markdown
- [x] 完成文档编写
- [ ] 审核文档
- [ ] 发布文档
```

### 3.3 Markdown 最佳实践

1. **保持简洁**：使用简洁明了的语言，避免冗长复杂的句子
2. **结构清晰**：使用合适的标题层级，组织文档结构
3. **格式一致**：保持文档格式的一致性，包括缩进、换行、列表样式等
4. **使用代码块**：对于代码示例，使用代码块并指定语言
5. **添加链接**：对于引用的外部资源，添加链接
6. **使用图片**：对于复杂的概念，使用图片辅助说明
7. **添加目录**：对于长文档，添加目录便于导航
8. **使用语义化标记**：使用合适的 Markdown 标记表示内容语义

## 4. VS Code 文档编辑指南

### 4.1 VS Code 安装和配置

1. **下载安装**：从 [VS Code 官网](https://code.visualstudio.com/) 下载并安装 VS Code
2. **安装扩展**：安装以下推荐扩展
   - **Markdown All in One**：Markdown 编辑增强
   - **Markdownlint**：Markdown 格式检查
   - **Prettier**：代码和文档格式化
   - **GitLens**：Git 增强
   - **GitHub Pull Requests and Issues**：GitHub 集成
   - **Paste Image**：快速粘贴图片

### 4.2 VS Code 基本使用

1. **打开文档**：使用 VS Code 打开项目目录，导航到 docs 文件夹
2. **创建文档**：右键点击 docs 或子文件夹，选择 "新建文件"，输入文件名（如 `new-document.md`）
3. **编辑文档**：在编辑器中编写 Markdown 内容
4. **预览文档**：按下 `Ctrl+Shift+V` 或点击编辑器右上角的预览按钮，查看 Markdown 渲染效果
5. **格式化文档**：按下 `Shift+Alt+F` 或右键点击编辑器，选择 "格式化文档"，使用 Prettier 格式化文档
6. **检查格式**：Markdownlint 会自动检查文档格式，在问题面板中显示格式错误

### 4.3 VS Code 高级功能

1. **多光标编辑**：按住 `Alt` 键，点击多个位置，进行多光标编辑
2. **代码片段**：使用 Markdown 代码片段快速插入常用内容
3. **查找替换**：按下 `Ctrl+F` 查找，`Ctrl+H` 替换
4. **文件搜索**：按下 `Ctrl+Shift+F` 搜索整个项目中的内容
5. **Git 集成**：使用 VS Code 内置的 Git 功能，进行提交、推送、拉取等操作

## 5. Git 文档版本控制

### 5.1 Git 基础

Git 是一种分布式版本控制系统，用于跟踪文件的变化。WP Clean Admin 项目的文档使用 Git 进行版本控制。

### 5.2 Git 工作流程

1. **克隆仓库**：
   ```bash
   git clone https://github.com/sutchan/WP-Clean-Admin.git
   cd WPCleanAdmin
   ```

2. **创建分支**：
   ```bash
   # 创建并切换到新分支
   git checkout -b docs/update-readme
   ```

3. **编辑文档**：使用 VS Code 或其他编辑器编辑文档

4. **添加更改**：
   ```bash
   # 添加所有更改
   git add .
   
   # 或添加特定文件
   git add docs/README.md
   ```

5. **提交更改**：
   ```bash
   git commit -m "docs: 更新 README.md 文档"
   ```

6. **推送分支**：
   ```bash
   git push -u origin docs/update-readme
   ```

7. **创建 Pull Request**：在 GitHub 上创建 Pull Request，请求将分支合并到 main 分支

8. **代码审查**：团队成员审查 Pull Request，提供反馈

9. **合并分支**：审查通过后，合并分支到 main 分支

10. **删除分支**：
    ```bash
    # 删除本地分支
    git branch -d docs/update-readme
    
    # 删除远程分支
    git push origin --delete docs/update-readme
    ```

### 5.3 Git 最佳实践

1. **使用有意义的提交信息**：提交信息应清晰描述更改内容，遵循 Conventional Commits 规范
2. **频繁提交**：每次提交应包含一个逻辑上的更改，避免一次性提交大量不相关的更改
3. **使用分支**：为每个文档更新创建单独的分支，避免直接在 main 分支上编辑
4. **定期拉取**：定期从远程仓库拉取最新更改，避免冲突
5. **解决冲突**：如果出现冲突，及时解决冲突
6. **使用标签**：为重要的文档版本创建 Git 标签

### 5.4 Conventional Commits 规范

提交信息应遵循以下格式：

```
<type>(<scope>): <description>

[optional body]

[optional footer(s)]
```

- **type**：提交类型，包括
  - `feat`：新功能
  - `fix`：修复 bug
  - `docs`：文档更新
  - `style`：代码风格更改
  - `refactor`：代码重构
  - `test`：测试相关
  - `chore`：构建或工具相关

- **scope**：提交范围，如 `readme`、`installation`、`api` 等

- **description**：提交描述，简洁明了

**示例**：
```
docs(readme): 更新项目概述和功能特点
docs(installation): 添加 Docker 部署说明
docs(api): 更新核心函数参考文档
```

## 6. GitHub 文档协作

### 6.1 GitHub 仓库结构

WP Clean Admin 项目的文档存储在 GitHub 仓库的 `docs` 目录中，按照功能和类型组织：

```
docs/
├── 01-文档指南/          # 文档编写指南和规范
├── 02-项目概述/          # 项目概述和介绍
├── 03-使用指南/          # 插件使用指南
├── 04-功能模块/          # 功能模块详细说明
├── 05-技术文档/          # 技术文档和 API 参考
├── 06-开发指南/          # 开发指南和规范
├── 07-测试文档/          # 测试策略和计划
├── 08-部署文档/          # 部署指南和方案
├── 09-运维文档/          # 运维手册和指南
├── 10-工具文档/          # 工具使用指南
├── 11-附录/              # 附录和参考资料
├── CHANGELOG.md          # 变更日志
├── README.md             # 项目 README
└── 项目审查报告_*.md     # 项目审查报告
```

### 6.2 GitHub 文档协作流程

1. **创建 Issue**：对于需要更新的文档，创建 GitHub Issue，描述需要更新的内容和原因
2. **分配任务**：将 Issue 分配给相应的团队成员
3. **创建分支**：根据 Issue 创建相应的分支
4. **编辑文档**：在分支上编辑文档
5. **创建 Pull Request**：提交 Pull Request，关联相应的 Issue
6. **代码审查**：团队成员审查 Pull Request，提供反馈
7. **合并 Pull Request**：审查通过后，合并 Pull Request 到 main 分支
8. **关闭 Issue**：合并后，关闭相应的 Issue

### 6.3 GitHub 文档查看和访问

1. **在线查看**：直接在 GitHub 上查看 Markdown 文档
2. **克隆仓库**：克隆仓库到本地，使用 VS Code 或其他编辑器查看
3. **GitHub Pages**：如果配置了 GitHub Pages，可以通过 GitHub Pages 访问构建后的文档网站

## 7. Markdownlint 文档格式检查

### 7.1 Markdownlint 安装和配置

1. **安装 Markdownlint CLI**：
   ```bash
   npm install -g markdownlint-cli
   ```

2. **创建配置文件**：在项目根目录创建 `.markdownlint.json` 配置文件

3. **配置规则**：
   ```json
   {
     "default": true,
     "MD003": {"style": "atx"},
     "MD004": {"style": "dash"},
     "MD007": {"indent": 2},
     "MD010": false,
     "MD013": false,
     "MD024": {"allow_different_nesting": true},
     "MD025": {"front_matter_title": "# WP Clean Admin"},
     "MD033": false,
     "MD034": false,
     "MD041": false
   }
   ```

### 7.2 Markdownlint 使用

1. **检查单个文件**：
   ```bash
   markdownlint docs/README.md
   ```

2. **检查所有文档**：
   ```bash
   markdownlint docs/**/*.md
   ```

3. **自动修复问题**：
   ```bash
   markdownlint docs/**/*.md --fix
   ```

4. **在 VS Code 中使用**：安装 Markdownlint 扩展后，VS Code 会自动检查文档格式，并在问题面板中显示错误

### 7.3 常见 Markdownlint 规则

| 规则 ID | 规则名称 | 描述 |
|---------|----------|------|
| MD003 | Heading style | 标题样式，推荐使用 atx 样式（# 符号） |
| MD004 | Unordered list style | 无序列表样式，推荐使用 dash 样式（- 符号） |
| MD007 | Unordered list indentation | 无序列表缩进，推荐使用 2 个空格 |
| MD010 | Hard tabs | 禁止使用硬制表符，使用空格代替 |
| MD013 | Line length | 行长度限制，推荐不超过 80 个字符 |
| MD024 | Multiple headings with the same content | 禁止多个相同内容的标题 |
| MD025 | Multiple top-level headings in the same document | 每个文档只能有一个一级标题 |
| MD033 | Inline HTML | 禁止使用内联 HTML |
| MD034 | Bare URL used | 禁止使用裸露的 URL，应使用链接格式 |
| MD041 | First line in file should be a top-level heading | 文件第一行应为一级标题 |

## 8. Pandoc 文档格式转换

### 8.1 Pandoc 安装和配置

1. **下载安装**：从 [Pandoc 官网](https://pandoc.org/) 下载并安装 Pandoc
2. **验证安装**：
   ```bash
   pandoc --version
   ```

### 8.2 Pandoc 基本使用

1. **Markdown 转 HTML**：
   ```bash
   pandoc docs/README.md -o docs/README.html
   ```

2. **Markdown 转 PDF**：
   ```bash
   pandoc docs/README.md -o docs/README.pdf
   ```

3. **Markdown 转 Word**：
   ```bash
   pandoc docs/README.md -o docs/README.docx
   ```

4. **批量转换**：
   ```bash
   for file in docs/**/*.md; do
     pandoc "$file" -o "${file%.md}.html"
   done
   ```

### 8.3 Pandoc 高级使用

1. **使用模板**：
   ```bash
   pandoc docs/README.md --template=template.html -o docs/README.html
   ```

2. **添加元数据**：
   ```bash
   pandoc docs/README.md -o docs/README.pdf --metadata title="WP Clean Admin 项目文档" --metadata author="Sut" --metadata date="2025-11-30"
   ```

3. **生成目录**：
   ```bash
   pandoc docs/README.md -o docs/README.pdf --toc
   ```

4. **指定 CSS**：
   ```bash
   pandoc docs/README.md -o docs/README.html -c style.css
   ```

## 9. 文档自动化构建和部署

### 9.1 GitHub Actions 配置

1. **创建 workflow 文件**：在项目根目录创建 `.github/workflows/docs.yml` 文件

2. **配置 workflow**：
   ```yaml
   name: Build and Deploy Docs
   
   on:
     push:
       branches: [ main ]
     pull_request:
       branches: [ main ]
   
   jobs:
     build:
       runs-on: ubuntu-latest
       steps:
       - uses: actions/checkout@v3
       
       - name: Setup Node.js
         uses: actions/setup-node@v3
         with:
           node-version: '18'
       
       - name: Install dependencies
         run: npm install -g markdownlint-cli
       
       - name: Lint Markdown files
         run: markdownlint docs/**/*.md
       
       - name: Build HTML docs
         run: |
           mkdir -p build/docs
           for file in docs/**/*.md; do
             pandoc "$file" -o "build/${file%.md}.html"
           done
       
       - name: Deploy to GitHub Pages
         if: github.ref == 'refs/heads/main'
         uses: peaceiris/actions-gh-pages@v3
         with:
           github_token: ${{ secrets.GITHUB_TOKEN }}
           publish_dir: ./build/docs
   ```

### 9.2 自动化流程

1. **提交触发**：当代码提交到 main 分支或创建 Pull Request 时，GitHub Actions 自动触发
2. **格式检查**：使用 Markdownlint 检查文档格式
3. **构建文档**：使用 Pandoc 将 Markdown 文档转换为 HTML
4. **部署文档**：将构建后的 HTML 文档部署到 GitHub Pages

## 10. 文档管理最佳实践

### 10.1 文档编写最佳实践

1. **明确目标**：明确文档的目标受众和用途
2. **结构清晰**：使用清晰的标题层级和目录，组织文档结构
3. **内容准确**：确保文档内容准确，与实际功能一致
4. **语言简洁**：使用简洁明了的语言，避免冗长复杂的句子
5. **格式一致**：保持文档格式的一致性，包括缩进、换行、列表样式等
6. **定期更新**：定期更新文档，确保文档与代码同步
7. **添加示例**：对于复杂的概念，添加示例代码或截图
8. **使用版本控制**：使用 Git 进行文档版本控制，跟踪文档变化

### 10.2 文档协作最佳实践

1. **分配责任**：明确每个文档的负责人
2. **定期审查**：定期审查文档，确保文档的质量和准确性
3. **使用 Issue 跟踪**：使用 GitHub Issue 跟踪文档更新任务
4. **使用 Pull Request 审查**：所有文档更新都通过 Pull Request 进行审查
5. **提供反馈**：对于文档审查，提供具体的反馈和建议
6. **鼓励贡献**：鼓励团队成员参与文档编写和更新

### 10.3 文档发布最佳实践

1. **选择合适的发布方式**：根据目标受众选择合适的文档发布方式，如 GitHub Pages、PDF、Word 等
2. **保持最新**：确保发布的文档是最新版本
3. **提供导航**：为文档网站提供清晰的导航，便于用户查找内容
4. **优化搜索**：为文档网站添加搜索功能，便于用户搜索内容
5. **收集反馈**：提供反馈渠道，收集用户对文档的反馈

## 11. 总结

本指南介绍了 WP Clean Admin 项目中使用的文档管理工具，包括 Markdown 编写、VS Code 编辑、Git 版本控制、GitHub 协作、Markdownlint 格式检查、Pandoc 格式转换以及 GitHub Actions 自动化构建和部署。

通过遵循本指南，团队成员可以高效地协作管理项目文档，确保文档的质量、一致性和可访问性。文档管理是项目成功的重要组成部分，良好的文档可以提高团队的协作效率，降低新成员的学习成本，提升项目的整体质量。

随着项目的发展，文档管理工具和流程可能会不断优化和改进，团队成员应关注最新的文档管理实践，持续提高文档管理的效率和质量。
